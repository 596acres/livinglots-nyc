{
  "cache": {"name": "Test"},
  "layers": {
    "lots-centroids": {
      "allowed origin": "<ALLOWED_ORIGIN>",
      "provider": {
        "name": "vector",
        "driver": "PostgreSQL",
        "parameters": {
          "dbname": "<DB_NAME>",
          "user": "<DB_USER>",
          "password": "<DB_PASSWORD>",
          "query": "SELECT array_to_string(array(SELECT name FROM lots_lotlayer ll JOIN lots_lotlayer_lots lll ON lll.lotlayer_id = ll.id AND lll.lot_id=l.id), ',') AS layers, l.id, l.bbl, l.centroid FROM lots_lot l WHERE l.group_id IS NULL"
        }
      }
    },
    "lots-polygons": {
      "allowed origin": "<ALLOWED_ORIGIN>",
      "provider": {
        "name": "vector",
        "driver": "PostgreSQL",
        "parameters": {
          "dbname": "<DB_NAME>",
          "user": "<DB_USER>",
          "password": "<DB_PASSWORD>",
          "query": "SELECT array_to_string(array(SELECT name FROM lots_lotlayer ll JOIN lots_lotlayer_lots lll ON lll.lotlayer_id = ll.id AND lll.lot_id=l.id), ',') AS layers, l.id, l.bbl, l.polygon FROM lots_lot l WHERE l.group_id IS NULL"
        }
      }
    } 
  }
}
